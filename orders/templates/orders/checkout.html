{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - e-xom store</title>
    <link rel="stylesheet" href="{% static 'core/styles.css' %}">
    <style>
        .checkout-container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px #f8bbd0; padding: 2.5rem 2rem; }
        h1 { color: #e91e63; text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 2rem; }
        th, td { padding: 0.8rem; text-align: center; }
        th { background: #f8bbd0; color: #ad1457; }
        tr:nth-child(even) { background: #fff0f6; }
        .product-img { width: 60px; height: 60px; object-fit: cover; border-radius: 6px; }
        .total-row td { font-weight: bold; color: #e91e63; font-size: 1.1rem; }
        .checkout-btn { background: #e91e63; color: #fff; border: none; padding: 0.8rem 2rem; border-radius: 6px; font-size: 1.1rem; cursor: pointer; margin-top: 2rem; display: block; margin-left: auto; margin-right: auto; }
        .checkout-btn:hover { background: #ad1457; }
        .address-box { background: #fff0f6; border-radius: 8px; padding: 1rem 1.5rem; margin: 1.5rem 0; color: #ad1457; font-size: 1.05rem; }
        .section-title { color: #ad1457; font-weight: bold; margin-top: 2rem; }
    </style>
</head>
<body>
    {% include 'core/navbar.html' %}
    <div class="checkout-container">
        <h1>Checkout</h1>
        <div class="section-title">Shipping Address</div>
        <div class="address-box">
            {{ user.address }}
        </div>
        <div class="section-title">Order Summary</div>
        <table>
            <tr>
                <th>Image</th>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Subtotal</th>
            </tr>
            {% for item in items %}
            <tr>
                <td><img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="product-img"></td>
                <td>{{ item.product.name }}</td>
                <td>₹{{ item.product.price }}</td>
                <td>{{ item.quantity }}</td>
                <td>₹{{ item.product.price|floatformat:2|add:item.quantity|floatformat:2 }}</td>
            </tr>
            {% endfor %}
            <tr class="total-row">
                <td colspan="4">Total</td>
                <td>₹{{ total }}</td>
            </tr>
        </table>
        <form method="post" action="">
            {% csrf_token %}
            <div class="section-title">Shipping Address</div>
            <textarea name="shipping_address" required style="width:100%; min-height:60px; border-radius:6px; border:1px solid #e91e63; padding:0.5rem; margin-bottom:1.2rem;">{{ user.address }}</textarea>
            <div class="section-title">Payment Method</div>
            <select name="payment_method" required style="margin:0 1rem; padding:0.4rem 1rem; border-radius:6px; border:1px solid #e91e63;">
                <option value="cash">Cash on Delivery</option>
            </select>
            <button type="submit" class="checkout-btn">Place Order</button>
        </form>
    </div>
</body>
</html> 